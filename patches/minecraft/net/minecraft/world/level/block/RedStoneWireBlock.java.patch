--- a/net/minecraft/world/level/block/RedStoneWireBlock.java
+++ b/net/minecraft/world/level/block/RedStoneWireBlock.java
@@ -184,7 +_,7 @@
       BlockState blockstate = p_55523_.m_8055_(blockpos);
       if (p_55526_) {
          boolean flag = this.m_55612_(p_55523_, blockpos, blockstate);
-         if (flag && m_55640_(p_55523_.m_8055_(blockpos.m_7494_()))) {
+         if (flag && canConnectTo(p_55523_.m_8055_(blockpos.m_7494_()), p_55523_, blockpos.m_7494_(), null) ) {
             if (blockstate.m_60783_(p_55523_, blockpos, p_55525_.m_122424_())) {
                return RedstoneSide.UP;
             }
@@ -193,7 +_,7 @@
          }
       }
 
-      return !m_55594_(blockstate, p_55525_) && (blockstate.m_60796_(p_55523_, blockpos) || !m_55640_(p_55523_.m_8055_(blockpos.m_7495_()))) ? RedstoneSide.NONE : RedstoneSide.SIDE;
+      return !canConnectTo(blockstate, p_55523_, blockpos, p_55525_) && (blockstate.m_60796_(p_55523_, blockpos) || !canConnectTo(p_55523_.m_8055_(blockpos.m_7495_()), p_55523_, blockpos.m_7495_(), null)) ? RedstoneSide.NONE : RedstoneSide.SIDE;
    }
 
    public boolean m_7898_(BlockState p_55585_, LevelReader p_55586_, BlockPos p_55587_) {
@@ -335,20 +_,16 @@
       }
    }
 
-   protected static boolean m_55640_(BlockState p_55641_) {
-      return m_55594_(p_55641_, (Direction)null);
-   }
-
-   protected static boolean m_55594_(BlockState p_55595_, @Nullable Direction p_55596_) {
-      if (p_55595_.m_60713_(Blocks.f_50088_)) {
+   protected static boolean canConnectTo(BlockState p_176343_0_, BlockGetter world, BlockPos pos, @Nullable Direction p_176343_1_) {
+      if (p_176343_0_.m_60713_(Blocks.f_50088_)) {
          return true;
-      } else if (p_55595_.m_60713_(Blocks.f_50146_)) {
-         Direction direction = p_55595_.m_61143_(RepeaterBlock.f_54117_);
-         return direction == p_55596_ || direction.m_122424_() == p_55596_;
-      } else if (p_55595_.m_60713_(Blocks.f_50455_)) {
-         return p_55596_ == p_55595_.m_61143_(ObserverBlock.f_52588_);
+      } else if (p_176343_0_.m_60713_(Blocks.f_50146_)) {
+         Direction direction = p_176343_0_.m_61143_(RepeaterBlock.f_54117_);
+         return direction == p_176343_1_ || direction.m_122424_() == p_176343_1_;
+      } else if (p_176343_0_.m_60713_(Blocks.f_50455_)) {
+         return p_176343_1_ == p_176343_0_.m_61143_(ObserverBlock.f_52588_);
       } else {
-         return p_55595_.m_60803_() && p_55596_ != null;
+         return p_176343_0_.canConnectRedstone(world, pos, p_176343_1_) && p_176343_1_ != null;
       }
    }
 
