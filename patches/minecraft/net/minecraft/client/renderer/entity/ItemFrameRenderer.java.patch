--- a/net/minecraft/client/renderer/entity/ItemFrameRenderer.java
+++ b/net/minecraft/client/renderer/entity/ItemFrameRenderer.java
@@ -16,7 +_,6 @@
 import net.minecraft.resources.ResourceLocation;
 import net.minecraft.world.entity.decoration.ItemFrame;
 import net.minecraft.world.item.ItemStack;
-import net.minecraft.world.item.Items;
 import net.minecraft.world.item.MapItem;
 import net.minecraft.world.level.block.state.BlockState;
 import net.minecraft.world.level.saveddata.maps.MapItemSavedData;
@@ -29,9 +_,9 @@
    private static final ModelResourceLocation f_115044_ = new ModelResourceLocation("item_frame", "map=false");
    private static final ModelResourceLocation f_115045_ = new ModelResourceLocation("item_frame", "map=true");
    private final Minecraft f_115046_ = Minecraft.m_91087_();
-   private final ItemRenderer f_115047_;
+   private final net.minecraft.client.renderer.entity.ItemRenderer f_115047_;
 
-   public ItemFrameRenderer(EntityRenderDispatcher p_115050_, ItemRenderer p_115051_) {
+   public ItemFrameRenderer(EntityRenderDispatcher p_115050_, net.minecraft.client.renderer.entity.ItemRenderer p_115051_) {
       super(p_115050_);
       this.f_115047_ = p_115051_;
    }
@@ -50,7 +_,7 @@
       if (!flag) {
          BlockRenderDispatcher blockrenderdispatcher = this.f_115046_.m_91289_();
          ModelManager modelmanager = blockrenderdispatcher.m_110907_().m_110881_();
-         ModelResourceLocation modelresourcelocation = p_115076_.m_31822_().m_41720_() == Items.f_42573_ ? f_115045_ : f_115044_;
+         ModelResourceLocation modelresourcelocation = p_115076_.m_31822_().m_41720_() instanceof MapItem ? f_115045_ : f_115044_;
          p_115079_.m_85836_();
          p_115079_.m_85837_(-0.5D, -0.5D, -0.5D);
          blockrenderdispatcher.m_110937_().m_111067_(p_115079_.m_85850_(), p_115080_.m_6299_(Sheets.m_110789_()), (BlockState)null, modelmanager.m_119422_(modelresourcelocation), 1.0F, 1.0F, 1.0F, p_115081_, OverlayTexture.f_118083_);
@@ -59,21 +_,21 @@
 
       ItemStack itemstack = p_115076_.m_31822_();
       if (!itemstack.m_41619_()) {
-         boolean flag1 = itemstack.m_41720_() == Items.f_42573_;
+         MapItemSavedData mapitemsaveddata = MapItem.m_42909_(itemstack, p_115076_.f_19853_);
          if (flag) {
             p_115079_.m_85837_(0.0D, 0.0D, 0.5D);
          } else {
             p_115079_.m_85837_(0.0D, 0.0D, 0.4375D);
          }
 
-         int i = flag1 ? p_115076_.m_31823_() % 4 * 2 : p_115076_.m_31823_();
+         int i = mapitemsaveddata != null ? p_115076_.m_31823_() % 4 * 2 : p_115076_.m_31823_();
          p_115079_.m_85845_(Vector3f.f_122227_.m_122240_((float)i * 360.0F / 8.0F));
-         if (flag1) {
+         if (!net.minecraftforge.common.MinecraftForge.EVENT_BUS.post(new net.minecraftforge.client.event.RenderItemInFrameEvent(p_115076_, this, p_115079_, p_115080_, p_115081_))) {
+         if (mapitemsaveddata != null) {
             p_115079_.m_85845_(Vector3f.f_122227_.m_122240_(180.0F));
             float f = 0.0078125F;
             p_115079_.m_85841_(0.0078125F, 0.0078125F, 0.0078125F);
             p_115079_.m_85837_(-64.0D, -64.0D, 0.0D);
-            MapItemSavedData mapitemsaveddata = MapItem.m_42909_(itemstack, p_115076_.f_19853_);
             p_115079_.m_85837_(0.0D, 0.0D, -1.0D);
             if (mapitemsaveddata != null) {
                this.f_115046_.f_91063_.m_109151_().m_93263_(p_115079_, p_115080_, mapitemsaveddata, true, p_115081_);
@@ -81,6 +_,7 @@
          } else {
             p_115079_.m_85841_(0.5F, 0.5F, 0.5F);
             this.f_115047_.m_115136_(itemstack, ItemTransforms.TransformType.FIXED, p_115081_, OverlayTexture.f_118083_, p_115079_, p_115080_);
+         }
          }
       }
 
